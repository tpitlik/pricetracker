<mat-card>
  <mat-card-title>
    <span fxFlex="100%" matTooltip="{{product.Title}}">{{product.Title}}</span>
  </mat-card-title>
  <mat-card-subtitle>
    <a [href]="product.LinkUrl" color="primary" target="_blank"
       rel="noopener noreferrer">Предложений:{{product.OffersCount}}</a>
  </mat-card-subtitle>
  <mat-card-content>
    <highcharts-chart *ngIf="productInStock; else outOfStock"
                      [Highcharts]="Highcharts"
                      [constructorType]="chartConstructor"
                      [options]="chartOptions"
                      [(update)]="updateFlag"

                      style="width: 100%; height: 150px; display: block;"
    ></highcharts-chart>
    <div fxLayout="row" fxLayoutAlign="center center">
      <span class="badge mr-1" [ngClass]="product.MinPriceChange === '--'? 'badge-light': 'badge-info'">Мин. {{product.MinPriceChange}}</span>
      <span class="badge mr-1" [ngClass]="product.MeanPriceChange === '--'? 'badge-light': 'badge-warning'">Ср. {{product.MeanPriceChange}}</span>
      <span class="badge" [ngClass]="product.MaxPriceChange === '--'? 'badge-light': 'badge-danger'">Макс. {{product.MaxPriceChange}}</span>
    </div>
  </mat-card-content>
  <mat-card-actions align="end">
    <button mat-icon-button (click)="openPriceChartDialog(product.Id)" disableRipple>
      <mat-icon aria-label="Price chart">timeline</mat-icon>
    </button>
    <button mat-icon-button  (click)="openProductNotificationDialog(product.Id)" disableRipple [color]="product.ProductNotificationActive ? 'warn' : null">
      <mat-icon aria-label="Notification">add_alert</mat-icon>
    </button>
    <button mat-icon-button (click)="openProductDeleteDialog(product.Id, product.Title)" disableRipple>
      <mat-icon aria-label="Delete product">delete</mat-icon>
    </button>
  </mat-card-actions>
</mat-card>


<ng-template #outOfStock>
  <div class="outofstockmsg text-center">
  Товара нет в наличии
  </div>
</ng-template>
